{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/1690880787/",
    "result": {"data":{"site":{"siteMetadata":{"title":"ishkawa"}},"markdownRemark":{"id":"4ad0d7f0-bd4d-55fb-b1b2-ff3808da6ded","excerpt":"今年リリースされたDart 3には、新たにrecordという機能が導入された(Doc)。これは他の言語でいうところのtuple的なもので、複数の値を持つことができる。keyやindexで要素にアクセスできるし、destructureもできる。 それほど多用する機能ではないが、table driven test…","html":"<p>今年リリースされたDart 3には、新たにrecordという機能が導入された(<a href=\"https://dart.dev/language/records\">Doc</a>)。これは他の言語でいうところのtuple的なもので、複数の値を持つことができる。keyやindexで要素にアクセスできるし、destructureもできる。</p>\n<p>それほど多用する機能ではないが、table driven testを書く場合には重宝する。</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'NumberParser.parse'</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> testCase <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">'one'</span></span><span class=\"token punctuation\">,</span> output<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">'two'</span></span><span class=\"token punctuation\">,</span> output<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">'three'</span></span><span class=\"token punctuation\">,</span> output<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">'four'</span></span><span class=\"token punctuation\">,</span> output<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">'\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token expression\">testCase<span class=\"token punctuation\">.</span>input</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"を渡すと</span><span class=\"token interpolation\"><span class=\"token punctuation\">${</span><span class=\"token expression\">testCase<span class=\"token punctuation\">.</span>output</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">が返される'</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">final</span> parser <span class=\"token operator\">=</span> <span class=\"token class-name\">NumberParser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">final</span> output <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>testCase<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>output<span class=\"token punctuation\">,</span> testCase<span class=\"token punctuation\">.</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>実行結果</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">✓ NumberParser.parse \"one\"を渡すと1が返される\n✓ NumberParser.parse \"two\"を渡すと2が返される\n✓ NumberParser.parse \"three\"を渡すと3が返される\n✓ NumberParser.parse \"four\"を渡すと4が返される\nExited</code></pre></div>\n<p>他の言語でも、TypeScriptやSwiftあたりは同じ書き方ができそう。</p>","frontmatter":{"title":"Dart 3におけるtable driven test","date":"2023/08/01","description":"","image":null}}},"pageContext":{"slug":"/1690880787/","previous":{"fields":{"slug":"/1680785662/"},"frontmatter":{"title":"GitHub Copilotの雑感"}},"next":null}},
    "staticQueryHashes": ["2841359383"]}