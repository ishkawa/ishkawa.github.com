---
title: "SlackからGoogle Meetを開始するコマンドを用意した"
date: 2020-07-31 09:00 +0900
description: ""
---

以前はチーム内の通話にSlackのコールを使っていて、以下のようなメリットがあった。

* 通話開始までのステップが短い。
* コールが続いているか/誰が参加しているかが参加しなくても分かる。

しかし、以下のような理由から使うのをやめた。

* 音声トラブルが多い。
* 端末によっては画面共有時などにリソースが逼迫し、満足に通話ができなくなる。

で、代わりを色々試した結果Google Meetを使うことに決めた。しかし、Google MeetはSlackの[通話アプリ](https://slack.com/intl/ja-jp/help/articles/216951758)の設定に非対応なので(ZoomやWebexとかは対応している)、そのままでは通話開始までに以下のようなステップを踏む必要がある。

1. Google Meetを開く。
2. 通話を開始する。
3. 通話の参加URLをコピーする。
4. 参加URLをSlackに貼り付ける。

これでは通話の開始するハードルが上がってしまい、適切なタイミングで通話が使われる頻度が落ちるという結果に繋がりかねない。なので、これらの一連を処理をやってくれるスラッシュコマンドを作成した。

## 仕組み

Zapierを使って、以下のように実現した。

1. SlackのスラッシュコマンドでZapierのWebHookを呼び出す。
2. ZapierからGoogle MeetのURLを発行する。
3. スラッシュコマンドが実行されたチャンネルにZapierからSlackにURLを投稿する。

ステップ1はbotへのメンションにも対応できるようにした。

![](https://i.imgur.com/1dIrLTM.png)

## 感想

Google Meetへ移行したことで通話中の体験は良くなったものの、やはり通話開始までの体験はSlackのコールの方が良いのが正直なところ。とはいえ、通話自体が成り立たなかったりするのは致命的なので、当分はこの方式で運用することになると思う。

Google MeetがSlackの通話アプリに設定できるようになるか、もしくはSlackを置き換えるGoogleのプロダクトが出てくるか、はたまたSlackのコールの品質がめちゃくちゃ向上するか、いずれかが近い将来にやってくるとうれしい。そういえば、[SlackとAWSが提携してコールをAmazon Chimeに置き換える](https://prtimes.jp/main/html/rd/p/000001140.000004612.html)なんて話もあったし、意外とすぐにその日はやってくるのかも。

