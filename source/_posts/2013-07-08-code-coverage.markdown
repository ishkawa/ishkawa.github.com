---
layout: post
title: "コードカバレッジを計測してみた感想"
date: 2013-07-08 20:52
comments: true
categories: 
---

先週末、およそ3ヶ月ぶりにNode.jsのコードを書きました。

いつの間にかテストをそれほど苦労せずに書けるようになっていて、
たくさんテストを書いて意識が高まり、コードカバレッジを計測しようと思いました。
コードカバレッジを計測するのは今回が生まれて初めてでした。
何処かで"コードカバレッジは目安に過ぎない"みたいな話を聞いて、
コードカバレッジの効果に対しては半信半疑なところがありましたが、
とにかくそのときは意識が高まっていたので頑張って計測できるようにしました。
参考にしたのは以下のブログ記事です。
あまり深いことはわからないのですが、jscoverageが実行回数を測定できるプロダクトコードのコピーを生成し、
テストコードからそれを実行することでコードカバレッジを計測できるという感じの仕組みのようです。

http://www.seejohncode.com/2012/03/13/setting-up-mocha-jscoverage/

#### 感想

"コードカバレッジは目安に過ぎない"というのは、コードカバレッジを計測した経験がある人とない人とでは捉え方が変わると思いました。
コードカバレッジを計測してみる前は"目安に過ぎないから計測してもしなくても大差ない"というような気がしていたのですが、
計測してその結果を活用して開発をしてみると"無意味な変更でパーセンテージが変化する場合があるから目安"なのかなと思いました。
で、結局目安と言いながらも明らかにカバーできていない箇所を発見できたりして開発にとても役立つので、
本業のiOS開発の方でも頑張ってやってみようと思いました。

