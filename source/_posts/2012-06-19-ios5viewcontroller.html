---
layout: post
title: "iOS5のコンテナViewControllerを試す"
date: 2012-06-19
comments: false
---

<div class='post'>
iOS5プログラミングブックという本が出版されたので、読んでいます。<br /><a href="http://www.amazon.co.jp/dp/4844332228/ref=cm_sw_r_tw_dp_Gri4pb08YA0Z8" target="_blank">http://www.amazon.co.jp/dp/4844332228/ref=cm_sw_r_tw_dp_Gri4pb08YA0Z8</a><br /><br />最近まで、iOS5からUIViewControllerがUIViewControllerを含むという仕組みが<br />追加されたことを知らなかったので、この本を参考にしながら書いてみました。<br /><br />親にあたる方のViewControllerをコンテナというようで、既存のクラスだと<br />UINavigationControllerやUITabBarControllerがそれに該当するものだそうです。<br />iOS4までは親のviewに子のviewを追加して、viewWillAppearなどの諸メソッドを<br />逐一子に伝搬してやるということが必要だったのですが、<br />iOS5からは子viewの追加時や削除時に<br /><br /><ul><li>addChildViewController /&nbsp;removeFromParentViewController</li><li>willMoveToParentViewController:</li><li>didMoveToParentViewController:</li></ul><br />を呼んでやると、UIViewControllerの間に親子関係が結ばれて、<br />親ViewControllerの出現や回転などのイベントが親から子に自動的に伝わるようです。<br /><br /><br />複数のViewController間をフリックで移動したい機会がたまにあるので、<br />今回はフリックしているときに全体を俯瞰するような感じのコンテナを実装しました。<br />フリック中のイメージは以下のような感じです。<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-QKxCO9GN31E/T-CHbYAFuOI/AAAAAAAAAGU/kSCfR8GFPnk/s1600/ss.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-QKxCO9GN31E/T-CHbYAFuOI/AAAAAAAAAGU/kSCfR8GFPnk/s320/ss.png" width="170" /></a></div><br />コードはISColumnsControllerという名前でGitHubで公開しています。<br />機会があれば、使ってみてください。<br /><a href="https://github.com/ishkawa/ISColumnsController" target="_blank">https://github.com/ishkawa/ISColumnsController</a></div>
