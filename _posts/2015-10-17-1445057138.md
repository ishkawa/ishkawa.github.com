---
layout: post
title: "Xcode 7のXCTAssertEqualとOptional"
date: 2015-10-17 13:45
---

Xcode 6までのXCTAssertEqualは`<T: Equatable>(expression1: T, expression2: T)`という引数になっていました。一見するとジェネリックで良い感じに見えるんですが、実際には片方がOptionalの場合に型が一致しなくて面倒という問題がありました。
[http://blog.ishkawa.org/2015/03/02/1425257147/](http://blog.ishkawa.org/2015/03/02/1425257147/)

Xcode 7ではそれが改善されており、XCTAssertEqualの引数は`<T: Equatable>(expression1: T?, expression2: T?)`というものになりました。これにより、unwrapせずに`T`と`T?`が比較できるようになりました。

```swift
let a = 1
let b = Optional(1)
XCTAssertEqual(a, b)
```
